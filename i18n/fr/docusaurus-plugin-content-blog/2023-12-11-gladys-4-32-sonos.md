---
title: "L'intÃ©gration Sonos est maintenant disponible !"
description: Suite au live coding de 7 heures sur YouTube, l'intÃ©gration Sonos dÃ©veloppÃ©e est maintenant disponible !
authors: pierregilles
image: /img/presentation/sonos-gladys-4-32.jpg
slug: gladys-4-32-sonos-integration
---

Salut Ã  tous !

Il y a 2 semaines, j'Ã©tais en direct sur Youtube pour une sÃ©ance de live coding qui a durÃ© plus de 7 heures !!

Dans ce live, j'ai dÃ©veloppÃ© de bout en bout une intÃ©gration Sonos pour Gladys.

Le replay du live est disponible ici :

<div class="youtubeVideoContainerInBlog">
    <iframe src="https://www.youtube.com/embed/M4vOjQXMiZI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>

Aujourd'hui, je vous prÃ©sente Gladys Assistant 4.32 qui apporte notamment cette intÃ©gration Sonos ğŸ˜

## IntÃ©gration Sonos dans Gladys

DÃ©sormais, vous pouvez connecter vos enceintes Sonos Ã  Gladys.

![Gladys intÃ©gration Sonos](../../../static/img/articles/fr/gladys-4-32/sonos_integration.jpg)

<!--truncate-->

Sur le tableau de bord, vous pourrez un widget "Musique" qui vous permet de contrÃ´ler une enceinte :

![Gladys intÃ©gration Sonos tableau de bord](../../../static/img/articles/fr/gladys-4-32/dashboard_music.jpg)

Et c'est tout pour le moment !

Et oui, l'objectif de ce dÃ©veloppement c'Ã©tait d'avoir un MVP fonctionnel d'une intÃ©gration Sonos dans Gladys, et je crois que le contrat est rempli ğŸ˜Š

Maintenant, je suis Ã  la recherche d'un mainteneur qui aimerait aider pour faire avancer cette intÃ©gration.

Si tu veux donner un coup demain, rejoins nous [sur le forum](https://community.gladysassistant.com/) !

## Envoi d'un message quand la batterie est faible

Vous en avez rÃªvÃ© ? Lokkye l'a fait pour vous !

DÃ©sormais, tous les samedis matins Ã  9h, si un ou plusieurs appareils de votre maison connectÃ©e ont un niveau de batterie infÃ©rieur Ã  un certain seuil, Gladys vous enverra un message (sur Telegram si vous l'avez configurÃ©) :

![Alerte batterie](../../../static/img/articles/fr/gladys-4-32/battery_alert.jpg)

Merci Lokkye pour le dÃ©veloppement ğŸ™Œ

## Zigbee2mqtt : Gestion du capteur IKEA Vindstyrka

Le capteur [IKEA Vindstyrka Zigbee](https://www.ikea.com/fr/fr/p/vindstyrka-capteur-qualite-de-lair-connecte-00498231/) renvoyait une valeur de `voc_index` que nous ne gÃ©rions pas dans Gladys pour l'instant. Contrairement Ã  une valeur "brute" de VOC, celle-ci reprÃ©sente une variation :

> Lâ€™indice a une Ã©chelle de 0 Ã  500 avec pour valeur de rÃ©fÃ©rence 100 qui reprÃ©sente la qualitÃ© moyenne de lâ€™air au cours des 24h derniÃ¨res heures.
> Une mesure infÃ©rieure Ã  100 indique une amÃ©lioration de la qualitÃ© de lâ€™air, et au-dessus une dÃ©gradation.

Will_71 sur le forum s'est penchÃ© sur le sujet et nous a apportÃ© la comptabilitÃ© ! Merci ğŸ™Œ

## Zigbee2mqtt : Gestion complÃ¨te du dÃ©tecteur OWON PIR313-E

Ce capteur expose 2 fonctionnalitÃ©s que nous ne gÃ©rions pas encore : "batterie faible" (nous gÃ©rons dÃ©jÃ  le niveau de batterie), et la "dÃ©tection de sabotage" (si un voleur essaie de retirer le capteur de mouvement).

C'est encore Will_71 qui a bossÃ© sur le sujet, un grand merci ğŸ™Œ

## Tableau de bord : Ajout d'un bouton "Ajouter" par colonne

Un petit correctif UX qui peut paraitre simple mais qui va grandement nous simplifier la vie : Il y a dÃ©sormais un bouton "Ajouter +" par colonne sur le tableau de bord !

![Gladys tableau de bord 3 boutons ajouter](../../../static/img/articles/fr/gladys-4-32/dashboard_add_buttons.jpg)

Merci Brisou pour ta premiÃ¨re PR sur Gladys, qui j'espÃ¨re sera la premiÃ¨re d'une longue sÃ©rie ğŸ™Œ

## Envoi d'un message MQTT dans les scÃ¨nes

Il est maintenant possible d'envoyer un message MQTT dans les scÃ¨nes, vers un topic custom et avec un message custom.

![Envoyer un message MQTT dans les scÃ¨nes](../../../static/img/articles/fr/gladys-4-32/send_mqtt_message.jpg)

Merci Lokkye pour la super PR ğŸ™Œ

## Correctifs

Quelques correctifs se sont glissÃ©s dans cette version !

- Quelques correctifs sur la nouvelle fonctionnalitÃ© de filtrages par tag des scÃ¨nes par Lokkye ğŸ™Œ
- Dans les scÃ¨nes, certains sÃ©lecteurs se superposaient entre eux, ce n'est plus le cas. Merci Will_71 ğŸ™Œ
- Le container Gladys lance directement le process Node, ce qui permet Ã  la base de donnÃ©e d'Ãªtre correctement fermÃ©e quand Gladys s'arrÃªte. Merci cicoub13 pour le correctif ğŸ™Œ

Le CHANGELOG complet est disponible [ici](https://github.com/GladysAssistant/Gladys/releases/tag/v4.32.0).

## Comment mettre Ã  jour ?

Si vous avez installÃ© Gladys avec lâ€™image Raspberry Pi OS officielle, vos instances se mettront Ã  jour **automatiquement** dans les heures Ã  venir. Cela peut prendre jusquâ€™Ã  24h, pas de panique.

Si vous avez installÃ© Gladys avec Docker, vÃ©rifiez que vous utilisez bien Watchtower. Voir la [documentation](/fr/docs/installation/docker#mise-Ã -jour-automatique-avec-watchtower).

Avec Watchtower, Gladys se mettra automatiquement Ã  jour.

## Supporter le projet

Il y a plein de faÃ§ons de supporter le projet :

- Participer aux discussions sur le forum, aider les nouveaux.
- Contribuer au projet en proposant des nouvelles intÃ©grations/fonctionnalitÃ©s.
- AmÃ©liorer la documentation, qui est open-source.
- S'inscrire Ã  [Gladys Plus](/fr/plus)

Merci Ã  tous ceux qui supportent Gladys ğŸ™
